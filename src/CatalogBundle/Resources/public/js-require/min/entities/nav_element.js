define(["app"],function(e){e.module("Entities",function(e,t,n,o,l,r){e.NavElement=n.Model.extend({urlRoot:"/ajax/page",defaults:{source:"page"}}),e.NavCollection=n.Collection.extend({url:"/ajax/page",model:e.NavElement,parse:function(e){return e.forEach(function(e){e.title=e.name,e.href=e.id}),e}});var a,i=function(){return a=new e.NavCollection([{href:"#bla",title:"Ц"},{href:"#on",title:"Тр"},{href:"#th",title:"Оп "},{href:"#contacts",title:"Кон"}])},c={getNavElements:function(){var t=new e.NavCollection,n=new Promise(function(e){t.fetch({success:function(t){e(t)}})});return n.then(function(e){return 0===e.length?i():e})}};t.reqres.setHandler("nav:elements",function(){return c.getNavElements()})})});