define(["app"],function(e){e.module("Entities",function(e,n,t,r,o,i){e.SidebarElement=t.Model.extend({urlRoot:"/ajax/sidebar"}),e.Products=t.Collection.extend({}),e.SidebarCollection=t.Collection.extend({url:"/ajax/sidebar",model:e.SidebarElement,parse:function(e){return i.each(e,function(e){e.source="category",0!==e.products.length&&i.each(e.products,function(e){e.source="product"})}),e}});var c={getSidebarElements:function(){var n=new e.SidebarCollection;return new Promise(function(e){n.fetch({success:function(n){e(n)}})})}};n.reqres.setHandler("sidebar:elements",function(){return c.getSidebarElements()})})});