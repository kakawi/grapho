define(["app"],function(e){e.module("RoutingApp",function(e,o,t,n,r,a){e.Router=n.AppRouter.extend({appRoutes:{"category/:id":"showCategory",homepage:"showHomepage","page/:id":"showPage","product/:id":"showProduct"}});var i={showDefault:function(){require(["apps/sidebar/sidebar_controller","apps/nav/nav_controller","apps/observer/window_observer"],function(){if(o.Observer.Window.started)return!1;var e=o.SidebarApp.Controller.listSidebarElements(),t=o.NavApp.Controller.listNavElements();Promise.all([e,t]).then(function(){o.Observer.Window.setTriggers(),o.Observer.Window.started=!0})})},showHomepage:function(){i.showDefault(),require(["apps/content/content_controller"],function(){o.ContentApp.Controller.showHomepage()})},showPage:function(e){this.showDefault(),require(["apps/content/content_controller"],function(){o.ContentApp.Controller.showPageById(e)})},showProduct:function(e){this.showDefault(),require(["apps/content/content_controller"],function(){o.ContentApp.Controller.showProductById(e)})},showCategory:function(e){this.showDefault(),require(["apps/content/content_controller"],function(){o.ContentApp.Controller.showCategoryById(e)})}};o.on("homepage:trigger",function(){o.navigate("homepage"),i.showHomepage()}),o.addInitializer(function(){new e.Router({controller:i})})})});